################################################################################
TARGET = $(HOME)/.xmonad/xmonad-x86_64-linux
SRC    = $(shell find . -type f -name '*.hs')
BIN    = cabal-dev/bin/pjones-xmonad
XMONAD = cabal-dev/bin/xmonad

################################################################################
.PHONEY: all install restart clean realclean

################################################################################
all: $(BIN)

################################################################################
install: $(BIN)
	mv $(TARGET) $(TARGET).prev
	cp $(BIN) $(TARGET)

################################################################################
restart: install
	$(XMONAD) --restart

################################################################################
clean:
	rm -rf dist

################################################################################
realclean: clean
	rm -rf cabal-dev

################################################################################
$(BIN): $(SRC)
	cabal-dev install
