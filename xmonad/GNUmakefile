################################################################################
TARGET = $(HOME)/.xmonad/xmonad-x86_64-linux
BIN    = cabal-dev/bin/xmonad
SRC    = $(shell find . -type f -name '*.hs')

################################################################################
.PHONEY: all install restart

################################################################################
all: $(BIN)

################################################################################
install: $(BIN)
	mv $(TARGET) $(TARGET).prev
	cp $(BIN) $(TARGET)

################################################################################
restart: install
	xmonad --restart

################################################################################
$(BIN): $(SRC)
	cabal-dev install
