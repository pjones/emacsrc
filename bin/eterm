#!/usr/bin/env bash

################################################################################
# Create a new Emacs frame running a terminal.
set -e

################################################################################
lisp='(vterm)'

if [ $# -ne 0 ]; then
  lisp="(let ((vterm-shell \"$*\") (vterm-kill-buffer-on-exit nil)) (vterm))"
fi

e -c -- --eval "$lisp" -F '((name . "eterm"))' >/dev/null 2>&1
